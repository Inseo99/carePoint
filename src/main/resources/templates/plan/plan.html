<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>병원/약 일정관리</title>
    <link href="/css/plan/plan.css" type="text/css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
</head>
<body>
<!--header-->
<div th:insert="~{/common/header.html}"></div>

<!--popup-->
<div class="detail-popup">
    <div class="tab-buttons">
        <button class="tab active" data-tab="tab1">병원 일정</button>
        <button class="tab" data-tab="tab2">약 일정</button>
    </div>
    <div class="detail-content active" id="tab1">
        <button onclick="closeModal()"><i class="fa-solid fa-xmark"></i></button>
        <div class="content-title">🏥 2025-01-01 병원 일정</div>
        <div class="content-info">
            <table class="hospital-table">
                <tr>
                    <th>시간</th>
                    <td>13시 00분</td>
                </tr>
                <tr>
                    <th>병원 이름</th>
                    <td>대전을지대학교병원</td>
                </tr>
                <tr>
                    <th>병원 위치</th>
                    <td><div id="hospital-map"></div></td>
                </tr>
            </table>
            <button class="btn delete-btn" onclick="">삭제</button>
        </div>
    </div>
    <div class="detail-content" id="tab2">
        <button onclick="closeModal()"><i class="fa-solid fa-xmark"></i></button>
        <div class="content-title"><img class="medicine" src="/images/medicine.jpg" alt=""> 2025-01-01 약 일정</div>
        <div class="content-info">
            <table class="medicine-table">
                <tr>
                    <th>선택</th>
                    <th>시간</th>
                    <th>약 이름</th>
                    <th>약 유형</th>
                </tr>
                <tr>
                    <td><input type="checkbox" class="delete-checkbox"></td>
                    <td>13시 00분</td>
                    <td>당뇨약</td>
                    <td><img src="/images/syringe.jpg" alt="주사기"></td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="delete-checkbox"></td>
                    <td>19시 00분</td>
                    <td>감기약</td>
                    <td><img src="/images/medicine.jpg" alt="약"></td>
                </tr>
            </table>
            <button class="btn delete-btn" onclick="">삭제</button>
        </div>
    </div>
</div>

<!--main-->
<section class="main">
    <div id="calendar"></div>
    <div class="plan">
        <div class="hospital-plan">
            <div class="plan-title">🏥 병원 일정 입력하기</div>
            <div class="plan-content">
                <div class="plan-favorite">
                    최근 일정 <img class="star" src="/images/star.jpg" alt="">
                </div>
                <div class="favorite-list">
                    <button>대전우리병원</button>
                    <button>대전센텀병원</button>
                    <button>대전을지대학교병원</button>
                </div>
                <div class="plan-input">
                    <form name="form1" action="">
                        <div class="date-input">
                            <label for="select-date">날짜 :</label>
                            <input type="date" id="select-date" name="select-date" required>
                        </div>
                        <div class="time-input">
                            <label for="select-time">시간 :</label>
                            <input type="time" id="select-time" name="select-time" required>
                        </div>
                        <div class="info-input">
                            <label for="hospital-info">병원정보 :</label>
                            <input type="text" id="hospital-info" name="hospital-info" placeholder="병원 이름 입력" required>
                            <button type="button" id="search-button"><i class="fa-solid fa-magnifying-glass"></i></button>
                            <div><ul id="hospital-list" style="display:none;"></ul></div>
                            <div id="map" style="width: 100%; height: 300px; margin-top: 10px;"></div>
                        </div>
                        <button class="btn" onclick="hospitalSave();">등록</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="medicine-plan">
            <div class="plan-title"><img class="medicine" src="/images/medicine.jpg" alt=""> 약 일정 입력하기</div>
            <div class="plan-content">
                <div class="plan-favorite">
                    최근 일정 <img src="/images/star.jpg" alt="">
                </div>
                <div class="favorite-list">
                    <button>당뇨약</button>
                    <button>감기약</button>
                </div>
                <div class="plan-input">
                    <form name="form2" action="">
                        <div class="date-input">
                            <label for="start-date">날짜 :</label>
                            <input type="date" id="start-date" name="start-date" required>
                            <label for="end-date"> - </label>
                            <input type="date" id="end-date" name="end-date" required>
                        </div>
                        <div class="time-input">
                            <label for="medicine-time">시간 :</label>
                            <input type="time" id="medicine-time" name="medicine-time" step="900" required>
                            <button type="button" class="add-time"><i class="fa-solid fa-circle-plus"></i></button>
                            <div class="time-container"></div>
                        </div>
                        <div class="name-input">
                            <label for="medicine-name">약 이름 :</label>
                            <input type="text" id="medicine-name" name="medicine-name" placeholder="약 이름 입력" required>
                        </div>
                        <div class="type-input">
                            <label>약 유형 :</label>
                            <input type="hidden" id="medicineType" name="medicineType">
                            <div class="medicine-types">
                                <img src="/images/medicine.jpg" alt="약" class="medicine-type" data-type="medicine">
                                <img src="/images/syringe.jpg" alt="주사기" class="medicine-type" data-type="syringe">
                            </div>
                        </div>
                        <button class="btn" type="submit" onclick="medicineSave();">등록</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!--footer-->
<div th:insert="~{/common/footer.html}"></div>

<!--js-->
<script src="/js/fullCalendar.js"></script>
<script src="/js/plan.js"></script>

<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB8Lr0W0_S0gchFmLITwOCGGDrjiZCav1E&libraries=places&callback=initMap">
</script>

</body>
</html>